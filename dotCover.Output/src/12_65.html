<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
    <title>/home/runner/work/Html2Markdown/Html2Markdown/test/Html2Markdown.Test/Scheme/AbstractSchemeTests.cs</title>
    <script type="text/javascript" src="../js/dotcover.sourceview.js"></script>
    <link rel="stylesheet" type="text/css" href="../css/dotcover.report.css" />
  </head>
  <body>
    <pre id="content" class="source-code">
using System.Collections.Generic;
using Html2Markdown.Replacement;
using Html2Markdown.Scheme;

namespace Html2Markdown.Test.Scheme;

public class AbstractSchemeTests
{
    [Fact]
    public void Replacers_WhenCalled_ReturnsReplacerCollection()
    {
        // arrange
        const int expectedCount = 1;
        var scheme = new TestScheme();

        // act
        var replacers = scheme.Replacers();

        // assert
        replacers.Count.Should().Be(expectedCount);
    }

    [Fact]
    public void Replacers_WhenCalled_ReturnsReplacerCollectionWithTestReplacer()
    {
        // arrange
        var scheme = new TestScheme();

        // act
        var replacers = scheme.Replacers();

        // assert
        replacers[0].Should().BeOfType&lt;TestReplacer&gt;();
    }

    [Fact]
    public void Replacers_WhenCalled_ReturnsReplacerCollectionWithTestReplacerReplaceMethod()
    {
        // arrange
        const string expected = &quot;test&quot;;
        var scheme = new TestScheme();

        // act
        var replacers = scheme.Replacers();
        var result = replacers[0].Replace(string.Empty);

        // assert
        result.Should().Be(expected);
    }

    [Fact]
    public void AddReplacer_WhenCalled_AddsReplacerToReplacerCollection()
    {
        // arrange
        const int expectedCount = 2;
        var scheme = new TestScheme();

        // act
        scheme.AddReplacer(new TestReplacer());
        var replacers = scheme.Replacers();

        // assert
        replacers.Count.Should().Be(expectedCount);
    }

    [Fact]
    public void AddReplacer_WhenCalled_AddsReplacerToReplacerCollectionWithTestReplacer()
    {
        // arrange
        var scheme = new TestScheme();

        // act
        scheme.AddReplacer(new TestReplacer());
        var replacers = scheme.Replacers();

        // assert
        replacers[1].Should().BeOfType&lt;TestReplacer&gt;();
    }
}

public class TestScheme : AbstractScheme
{
    public TestScheme()
    {
        AddReplacementGroup(ReplacerCollection, new TestReplacementGroup());
    }
}

public class TestReplacementGroup : IReplacementGroup
{
    public IEnumerable&lt;IReplacer&gt; Replacers()
    {
        return new List&lt;IReplacer&gt;
        {
            new TestReplacer()
        };
    }
}

public class TestReplacer : IReplacer
{
    public string Replace(string html)
    {
        return &quot;test&quot;;
    }
}
    </pre>
    <script type="text/javascript">
      highlightRanges([[11,5,11,6,1],[14,9,14,39,1],[17,9,17,44,1],[20,9,20,52,1],[21,5,21,6,1],[25,5,25,6,1],[27,9,27,39,1],[30,9,30,44,1],[33,9,33,56,1],[34,5,34,6,1],[38,5,38,6,1],[41,9,41,39,1],[44,9,44,44,1],[45,9,45,57,1],[48,9,48,38,1],[49,5,49,6,1],[53,5,53,6,1],[56,9,56,39,1],[59,9,59,48,1],[60,9,60,44,1],[63,9,63,52,1],[64,5,64,6,1],[68,5,68,6,1],[70,9,70,39,1],[73,9,73,48,1],[74,9,74,44,1],[77,9,77,56,1],[78,5,78,6,1],[83,5,83,24,1],[84,5,84,6,1],[85,9,85,77,1],[86,5,86,6,1],[92,5,92,6,1],[93,9,96,11,1],[97,5,97,6,1],[103,5,103,6,1],[104,9,104,23,1],[105,5,105,6,1]]);
    </script>
  </body>
</html>